<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<style>
.super{
  border:1px solid black;
}
.sub{
  border:1px solid black;
}
td {
  border:1px solid black;
  width: 30px;
  height:30px;
  padding: 0px;
  margin: 0px;
}
.AB{
  position: absolute;
  top:12.5%;
  left:12.5%;
  border-radius: 30px;
}
.DE{
  position: absolute;
  top:12.5%;
  left:62.5%;
  border-radius: 30px;
}
select{
  width:50px;
  height:20px;
  position: absolute;
  left:10%;
  top:25%;
}
.checked {
  color: orange;
  position: relative;
  left:25%;
}
.BA{
   position: absolute;
  top:62.5%;
  left:12.5%;
  border-radius: 30px;
}
.ED{
  position: absolute;
  top:62.5%;
  left:62.5%;
  border-radius: 30px;
}
input{
  position: relative;
  top:40%;
  left:5%;
}
.A{
  border: none;
}
.B{
  border: none;
}
.C{
  border: none;
}
.D{
  border: none;
}
.user_first{
  background-color: red;
}
.user_second{
  background-color: green;
}
.user_third{
  background-color: blue;
}
.user_fourth{
  background-color: yellow;
}
.flex-container{
  display: flex;
}
</style>
<script
  src="https://code.jquery.com/jquery-3.3.1.js"
  integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
  crossorigin="anonymous"></script>
</head>
<body>
<div class="flex-container">
<div style="flex-grow: 2" id="Input">
  <b style="position: absolute;top:20%;left:1%;color: green">Select Number Of Players</b>
  <select id="NumberOfPlayers" onchange="showInput(this.value)" style="width">
    <option selected = "selected" value="">Please Select ---</option>
    <option value ="One">1</option>
    <option value = "Two">2</option>
    <option value="Three">3</option>
    <option value="Four">4</option>
  </select>
</div>
<div style="flex-grow: 3">
  <table class = "super">
  <tr>
    <td class = 'user_first' colspan="6" rowspan="6">
      <table class= "sub" style="position: relative;margin-left: 16.67%; background-color:white">
        <tr>
          <td class='AB' id="userFirstOrigin1" ontouchstart = 'moveThis()' style="background-color: red">
            <img src="user_first.png" style="width:40px;height:40px;position: absolute;top:-50%">
          </td>
          <td class = 'B'></td>
          <td class = 'C'></td>
          <td class = 'DE' id="userFirstOrigin2" ontouchstart = 'moveThis()' style="background-color: red">
            <img src="user_first.png" style="width:40px;height:40px;position: absolute;top:-50%">
          </td>
        </tr>
        <tr>
          <td class='A'></td>
          <td class = 'B'></td>
          <td class = 'C'></td>
          <td class = 'D'></td>
        </tr>
        <tr>
          <td class='A'></td>
          <td class = 'B'></td>
          <td class = 'C'></td>
          <td class = 'D'></td>
        </tr>
        <tr>
          <td class='BA' id="userFirstOrigin3"  ontouchstart = 'moveThis()' style="background-color: red">
            <img src="user_first.png" style="width:40px;height:40px;position: absolute;top:-50%">
          </td>
          <td class = 'B'></td>
          <td class = 'C'></td>
          <td class = 'ED' id="userFirstOrigin4" ontouchstart = 'moveThis()' style="background-color: red">
            <img src="user_first.png" style="width:40px;height:40px;position: absolute;top:-50%">
          </td>
        </tr>
      </table>
    </td>
    <td id = "TopTierFirst1" ontouchstart = 'moveThis()'></td>
    <td id = "TopTierFirst2" ontouchstart = 'moveThis()' ></td>
    <td id = "TopTierFirst3" ontouchstart = 'moveThis()' ></td>
    <td  class = 'user_second' colspan="6" rowspan="6">
      <table class= "sub" style="position: relative;margin-left: 16.67%; background-color:white">
        <tr>
          <td class='AB' id="userSecondOrigin1"  ontouchstart = 'moveThis()' style="background-color: green">
            <img src="user_second.png" style="width:35px;height:40px;position: absolute;top:-50%">
          </td>
          <td class = 'B'></td>
          <td class = 'C'></td>
          <td class = 'DE' id="userSecondOrigin2" ontouchstart = 'moveThis()' style="background-color: green">
            <img src="user_second.png" style="width:35px;height:40px;position: absolute;top:-50%">
          </td>
        </tr>
        <tr>
          <td class='A'></td>
          <td class = 'B'></td>
          <td class = 'C'></td>
          <td class = 'D'></td>
        </tr>
        <tr>
          <td class='A'></td>
          <td class = 'B'></td>
          <td class = 'C'></td>
          <td class = 'D'></td>
        </tr>
        <tr>
          <td class='BA' id="userSecondOrigin3" ontouchstart = 'moveThis()' style="background-color: green">
            <img src="user_second.png" style="width:35px;height:40px;position: absolute;top:-50%">
          </td>
          <td class = 'B'></td>
          <td class = 'C'></td>
          <td class = 'ED' id="userSecondOrigin4" ontouchstart = 'moveThis()' style="background-color: green">
            <img src="user_second.png" style="width:35px;height:40px;position: absolute;top:-50%">
          </td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <td id = "TopTierSecond1" ontouchstart = 'moveThis()' ></td>
    <td  id = "TopTierSecond2" ontouchstart = 'moveThis()' style="background-color: green"  ></td>
    <td  id = "TopTierSecond3" ontouchstart = 'moveThis()' style="background-color: green" class="fa fa-arrow-down"></td>
  </tr>
  <tr>
    <td id = "TopTierThird1" ontouchstart = 'moveThis()' >
      <span class="fa fa-star checked"></span>
    </td>
    <td id = "TopTierThird2" ontouchstart = 'moveThis()' style="background-color: green"></td>
    <td id = "TopTierThird3" ontouchstart = 'moveThis()' >
    </td>
  </tr>
  <tr>
    <td id = "TopTierFouth1" ontouchstart = 'moveThis()' ></td>
    <td id = "TopTierFouth2" ontouchstart = 'moveThis()' style="background-color: green"></td>
    <td id = "TopTierFouth3" ontouchstart = 'moveThis()' ></td>
  </tr>
  <tr>
    <td id = "TopTierFifth1" ontouchstart = 'moveThis()' ></td>
    <td id = "TopTierFifth2" ontouchstart = 'moveThis()' style="background-color: green"></td>
    <td id = "TopTierFifth3" ontouchstart = 'moveThis()' ></td>
  </tr>
  <tr>
    <td id = "TopTierSixth1" ontouchstart = 'moveThis()' ></td>
    <td id = "TopTierSixth2" ontouchstart = 'moveThis()' style="background-color: green"></td>
    <td id = "TopTierSixth3" ontouchstart = 'moveThis()' ></td>
  </tr>
  <tr>
    <td id = "LeftTierFirst1" ontouchstart = 'moveThis()'></td>
    <td id = "LeftTierFirst2" ontouchstart = 'moveThis()'  style="background-color: red"></td>
    <td id = "LeftTierFirst3" ontouchstart = 'moveThis()'></td>
    <td id = "LeftTierFirst4" ontouchstart = 'moveThis()' ></td>
    <td id = "LeftTierFirst5" ontouchstart = 'moveThis()'></td>
    <td id = "LeftTierFirst6" ontouchstart = 'moveThis()' ></td>
    <td style="border:none"></td>
    <td style="border:none;background-color: green"></td>
    <td style="border:none"></td>
    <td id = "RightTierFirst1" ontouchstart = 'moveThis()'></td>
    <td id = "RightTierFirst2" ontouchstart = 'moveThis()'>
      <span class="fa fa-star checked"></span>
    </td>
    <td id = "RightTierFirst3" ontouchstart = 'moveThis()'></td>
    <td id = "RightTierFirst4" ontouchstart = 'moveThis()' ></td>
    <td id = "RightTierFirst5" ontouchstart = 'moveThis()'></td>
    <td id = "RightTierFirst6" ontouchstart = 'moveThis()'></td>
  </tr>
  <tr>
    <td id = "LeftTierSecond1" ontouchstart = 'moveThis()' ></td>
    <td id = "LeftTierSecond2" ontouchstart = 'moveThis()' style="background-color: red" ></td>
    <td id = "LeftTierSecond3" ontouchstart = 'moveThis()' style="background-color: red"></td>
    <td id = "LeftTierSecond4" ontouchstart = 'moveThis()' style="background-color: red"></td>
    <td id = "LeftTierSecond5" ontouchstart = 'moveThis()' style="background-color: red">
    </td>
    <td id = "LeftTierSecond6" ontouchstart = 'moveThis()' style="background-color: red"></td>
    <td style="background-color: red"></td>
    <td style="background-color: gold" id = 'Treasure'></td>
    <td style="background-color: yellow"></td>
    <td id = "RightTierSecond1" ontouchstart = 'moveThis()' style="background-color: yellow"></td>
    <td id = "RightTierSecond2" ontouchstart = 'moveThis()' style="background-color: yellow"></td>
    <td id = "RightTierSecond3" ontouchstart = 'moveThis()' style="background-color: yellow"></td>
    <td id = "RightTierSecond4" ontouchstart = 'moveThis()' style="background-color: yellow"></td>
    <td id = "RightTierSecond5" ontouchstart = 'moveThis()' style="background-color: yellow"></td>
    <td id = "RightTierSecond6" ontouchstart = 'moveThis()' ></td>
  </tr>
  <tr>
    <td id = "LeftTierThird1" ontouchstart = 'moveThis()'></td>
    <td id = "LeftTierThird2" ontouchstart = 'moveThis()' ></td>
    <td id = "LeftTierThird3" ontouchstart = 'moveThis()' ></td>
    <td id = "LeftTierThird4" ontouchstart = 'moveThis()' ></td>
    <td id = "LeftTierThird5" ontouchstart = 'moveThis()'>
      <span class="fa fa-star checked"></span>
    </td>
    <td id = "LeftTierThird6" ontouchstart = 'moveThis()'></td>
    <td style="border:none"></td>
    <td style="background-color: blue"></td>
    <td style="border:none"></td>
    <td id = "RightTierThird1" ontouchstart = 'moveThis()' ></td>
    <td id = "RightTierThird2" ontouchstart = 'moveThis()'></td>
    <td id = "RightTierThird3" ontouchstart = 'moveThis()'></td>
    <td id = "RightTierThird4" ontouchstart = 'moveThis()'></td>
    <td id = "RightTierThird5" ontouchstart = 'moveThis()' style="background-color: yellow" class="fa fa-arrow-left"></td>
    <td id = "RightTierThird6" ontouchstart = 'moveThis()'></td>
  </tr>
  <tr>
    <td class = "user_third" colspan="6" rowspan="6">
      <table class= "sub" style="position: relative;margin-left: 16.67%; background-color:white">
        <tr>
          <td class='AB' id="userThirdOrigin1"   ontouchstart = 'moveThis()' style="background-color: blue">
            <img src="user_third.png" style="width:40px;height:40px;position: absolute;top:-50%">
          </td>
          <td class = 'B'></td>
          <td class = 'C'></td>
          <td class = 'DE' id="userThirdOrigin2" ontouchstart = 'moveThis()'   style="background-color: blue">
            <img src="user_third.png" style="width:40px;height:40px;position: absolute;top:-50%">
          </td>
        </tr>
        <tr>
          <td class='A'></td>
          <td class = 'B'></td>
          <td class = 'C'></td>
          <td class = 'D'></td>
        </tr>
        <tr>
          <td class='A'></td>
          <td class = 'B'></td>
          <td class = 'C'></td>
          <td class = 'D'></td>
        </tr>
        <tr>
          <td class='BA' id="userThirdOrigin3" ontouchstart = 'moveThis()' style="background-color: blue">
            <img src="user_third.png" style="width:40px;height:40px;position: absolute;top:-50%">
          </td>
          <td class = 'B'></td>
          <td class = 'C'></td>
          <td class = 'ED' id="userThirdOrigin4" ontouchstart = 'moveThis()' style="background-color: blue">
            <img src="user_third.png" style="width:40px;height:40px;position: absolute;top:-50%">
          </td>
        </tr>
      </table>
    </td>
    <td id = "BottomTierFirst1" ontouchstart = 'moveThis()'></td>
    <td id = "BottomTierFirst2" ontouchstart = 'moveThis()' style="background-color: blue"></td>
    <td id = "BottomTierFirst3" ontouchstart = 'moveThis()' ></td>
    <td class = "user_fourth" colspan="6" rowspan="6">
      <table class= "sub" style="position: relative;margin-left: 16.67%; background-color:white">
        <tr>
          <td class='AB' id="userFourthOrigin1"  ontouchstart = 'moveThis()' style="background-color: yellow">
            <img src="user_four.png" style="width:40px;height:40px;position: absolute;top:-50%">
          </td>
          <td class = 'B'></td>
          <td class = 'C'></td>
          <td class = 'DE' id="userFourthOrigin2" ontouchstart = 'moveThis()' style="background-color: yellow">
            <img src="user_four.png" style="width:40px;height:40px;position: absolute;top:-50%">
          </td>
        </tr>
        <tr>
          <td class='A'></td>
          <td class = 'B'></td>
          <td class = 'C'></td>
          <td class = 'D'></td>
        </tr>
        <tr>
          <td class='A'></td>
          <td class = 'B'></td>
          <td class = 'C'></td>
          <td class = 'D'></td>
        </tr>
        <tr>
          <td class='BA' id="userFourthOrigin3" ontouchstart = 'moveThis()' style="background-color: yellow">
            <img src="user_four.png" style="width:40px;height:40px;position: absolute;top:-50%">
          </td>
          <td class = 'B'></td>
          <td class = 'C'></td>
          <td class = 'ED' id="userFourthOrigin4" ontouchstart = 'moveThis()' style="background-color: yellow">
            <img src="user_four.png" style="width:40px;height:40px;position: absolute;top:-50%">
          </td>
        </tr>
      </table>
    </td>
  </tr>
   <tr>
    <td id = "BottomTierSecond1" ontouchstart = 'moveThis()'></td>
    <td id = "BottomTierSecond2" ontouchstart = 'moveThis()' style="background-color: blue"></td>
    <td id = "BottomTierSecond3" ontouchstart = 'moveThis()'></td>
  </tr>
   <tr>
    <td id = "BottomTierThird1" ontouchstart = 'moveThis()' ></td>
    <td id = "BottomTierThird2" ontouchstart = 'moveThis()' style="background-color: blue"></td>
    <td id = "BottomTierThird3" ontouchstart = 'moveThis()' ></td>
  </tr>
   <tr>
    <td id = "BottomTierFourth1" ontouchstart = 'moveThis()'>
    </td>
    <td id = "BottomTierFourth2" ontouchstart = 'moveThis()' style="background-color: blue"></td>
    <td id = "BottomTierFourth3" ontouchstart = 'moveThis()' >
      <span class="fa fa-star checked"></span>
    </td>
  </tr>
   <tr>
    <td id = "BottomTierFifth1" ontouchstart = 'moveThis()' style="background-color: blue" class="fa fa-arrow-up"></td>
    <td id = "BottomTierFifth2" ontouchstart = 'moveThis()' style="background-color: blue" ></td>
    <td id = "BottomTierFifth3" ontouchstart = 'moveThis()' ></td>
  </tr>
   <tr>
    <td id = "BottomTierSixth1" ontouchstart = 'moveThis()' ></td>
    <td id = "BottomTierSixth2" ontouchstart = 'moveThis()' ></td>
    <td id = "BottomTierSixth3" ontouchstart = 'moveThis()' ></td>
  </tr>
  
</table>
</div>
<div style="flex-grow: 1" class="add-dice">
  <audio id="audio">
    <source src="dice.mp3" type="audio/mpeg">
  </audio>
  <img src= "dice-six-faces-four.png" ontouchstart="throwDice();" id="dice" style="width:100px;height: 100px;position: absolute;top:25%;left:90%" />
  <h1 id="turn" style="color: red;border-radius: 10px;border:1px solid black"></h1>
</div>
</div>

<script>
  let Players = 0;
  let Turn = 1;
  var Ninput = 0;
  var User_1,User_2,User_3,User_4;
  var CurrentFace;
  var keepFlicker = true;
  var isPlayerSelected = false;
  var isValidUser = false;
  var userFirstPath = ['userFirstOrigin1','LeftTierFirst2','LeftTierFirst3','LeftTierFirst4','LeftTierFirst5','LeftTierFirst6','TopTierSixth1','TopTierFifth1','TopTierFouth1','TopTierThird1',
  'TopTierSecond1','TopTierFirst1','TopTierFirst2','TopTierFirst3','TopTierSecond3','TopTierThird3','TopTierFouth3','TopTierFifth3','TopTierSixth3','RightTierFirst1','RightTierFirst2','RightTierFirst3','RightTierFirst4','RightTierFirst5','RightTierFirst6','RightTierSecond6','RightTierThird6','RightTierThird5','RightTierThird4','RightTierThird3','RightTierThird2','RightTierThird1','BottomTierFirst3','BottomTierSecond3','BottomTierThird3','BottomTierFourth3','BottomTierFifth3','BottomTierSixth3','BottomTierSixth2','BottomTierSixth1','BottomTierFifth1','BottomTierFourth1','BottomTierThird1','BottomTierSecond1','BottomTierFirst1','LeftTierThird6','LeftTierThird5','LeftTierThird4','LeftTierThird3','LeftTierThird2','LeftTierThird1','LeftTierSecond1','LeftTierSecond2','LeftTierSecond3','LeftTierSecond4','LeftTierSecond5','LeftTierSecond6','Treasure'];
  var userFirstItem = ['userFirstOrigin1','userFirstOrigin2','userFirstOrigin3','userFirstOrigin4']
  var userSecondItem = ['userSecondOrigin1','userSecondOrigin2','userSecondOrigin3','userSecondOrigin4']
  var userThirdItem = ['userThirdOrigin1','userThirdOrigin2','userThirdOrigin3','userThirdOrigin4']
  var userFourthItem = ['userFourthOrigin1','userFourthOrigin2','userFourthOrigin3','userFourthOrigin4']
  var conflictFinder = {};
  for(var i=0;i<userFirstItem;i++){
      conflictFinder.userFirstPath[i] = ['User_1'];
  }
  for(var i=0;i<userSecondItem;i++){
      conflictFinder.userSecondPath[i] = ['User_2'];
  }
  for(var i=0;i<userThirdItem;i++){
      conflictFinder.userThirdPath[i] = ['User_3'];
  }
  for(var i=0;i<userFourthItem;i++){
      conflictFinder.userFourthPath[i] = ['User_4'];
  }
  var blinkingCoin = [];
  $(document).ready(function(){
  });
  function moveOneStep(userpath,usercoin,id){
    if(Turn == 1){
      var Index = userpath.indexOf(id);
      var after = userpath[Index++];
      usercoin[usercoin.indexOf(id)] = after;
      setTimeout(function(){
        $('#'+id).empty();
        $('#'+after).append('<img src="user_first.png" style="width:40px;height:40px;position: absolute;top:-50%">');
      }, 1000); 
    }
  }
  function moveThis(){
    var id = $(this).attr('id');
    var newId ;
    var isLegalMove = false;
    for(var i =0 ;i<blinkingCoin.length;i++){
      if(id==blinkingCoin[i]){
        isLegalMove = true;
        break;
      }
    }
    if(isLegalMove){
      while(CurrentFace != 0){
        if(Turn == 1){
          moveOneStep(userFirstPath,userFirstItem,id);
          newId = userFirstPath[userFirstPath.indexOf(id)++];
        }
        else if(Turn == 2){
          moveOneStep(userFirstPath,userFirstItem,id);
          newId = userFirstPath[userFirstPath.indexOf(id)++];
        }
        else if (Turn == 3){
          moveOneStep(userFirstPath,userFirstItem,id);
          newId = userFirstPath[userFirstPath.indexOf(id)++];
        }
        else{
          moveOneStep(userFirstPath,userFirstItem,id);
          newId = userFirstPath[userFirstPath.indexOf(id)++];
        }
        
        CurrentFace--;
      }
    }
    var users="";
    if(conflictFinder.hasOwnProperty(newId)){
      users = conflictFinder.newId;
    }

    
  }
  function showInput(NoOfPlayers){
    console.log(NoOfPlayers);
    $('#turn').text('');
    $( "input" ).remove();
    $('br').remove();
    if(NoOfPlayers==""){
      document.alert("Plesae select");
      return;
    }
    else if(NoOfPlayers == "One"){
          Ninput = 1;
    }
    else if(NoOfPlayers=="Two"){
        Ninput = 2;
        $('#dice').append("<p></p>");
    }
    else if(NoOfPlayers == "Three"){
        Ninput = 3;
    }
    else{
        Ninput = 4;
    }
    isPlayerSelected = true;
    Players = Ninput;
    for(var i =0 ;i<Ninput;i++){
      if(i==0){
        $( "#Input" ).append( "<input type='text' id='user_first' name='playername' style='background-color:red;' ><br><br>" );
      }
      else if(i==1){
        $( "#Input" ).append( "<input type='text' id='user_second' name='playername' style='background-color:green;' ><br><br>" );
      }
      else if(i==2){
        $( "#Input" ).append( "<input type='text' id='user_third' name='playername' style='background-color:blue;' ><br><br>" );
      }
      else{
        $( "#Input" ).append( "<input type='text' id='user_fourth' name='playername' style='background-color:yellow;'><br><br>" );
      }
          
    }
    $("#Input").append("<input type='submit' id='submit' name='submit' value='submit' onclick = 'removeInput();'><br><br>");
  }
  function removeInput(){
    var success = getUsers();
    if(success){
      $('#turn').text(User_1);
      $('#Input').remove();
      isValidUser = true;
    }
  }
  function verifyUserName(Users){
    for(var i = 0;i < Users.length;i++){
      if(Users[i] == ''){
        alert('Provide Correct Usernaame');
        return false;
      }
    }
    return true;
  }
  function getUsers(){
      Users = [];
    if(Ninput == 2){
      User_1 = $('#user_first').val();
      User_2 = $('#user_second').val();
      Users.push(User_1);
      Users.push(User_2);
      return verifyUserName(Users);
    }
    else if(Ninput ==3){
      User_1 = $('#user_first').val();
      User_2 = $('#user_second').val();
      User_3 = $('#user_third').val();
      Users.push(User_1);
      Users.push(User_2);
      Users.push(User_3);
      return verifyUserName(Users);

    }
    else{
      User_1 = $('#user_first').val();
      User_2 = $('#user_second').val();
      User_3 = $('#user_third').val();
      User_4 = $('#user_fourth').val();
      Users.push(User_1);
      Users.push(User_2);
      Users.push(User_3);
      Users.push(User_4);
      return verifyUserName(Users);
    }
    
  }
  function allInside(container,user){
      var res;
      if(user == 1){
        res = "First";
      }
      else if(user == 2){
        res = "Second";
      }
      else if(user == 3){
        res = "Third";
      }
      else{
        res = "Fourth";
      }
      if(container[0]=='user'+res+"Origin1" && container[1]=="user"+res+"Origin2" && container[2]=="user"+res+"Origin3" && container[3]=="user"+res+"Origin4"){
        return true;
      }
      else{
        return false;
      }
  }
  function doFlickering(userpath,usercoin){
    blinkingCoin = [];
    var iterator = 0;
    for(var i=0;i<4;i++){
      if(usercoin.length - userpath.indexOf(usercoin[i]) >=6){
        setTimeout(function(){$('#'+usercoin[i]).empty()},1000);
        setTimeout(function(){$('#'+usercoin[i]).append('<img src="user_four.png" style="width:40px;height:40px;position: absolute;top:-50%">')},1000);
          blinkingCoin[iterator] = usercoin[i];
          iterator++;
      }
    }
  }
  function throwDice(){
      if( ! isPlayerSelected){
        alert("Plesae choose Players");
        return;
      }
      if(! isValidUser){
        alert("Plesae Submit Players Name");
        return;
      }
      var val = Math.floor(Math.random()*6)+1;
      if(val==1){
          document.getElementById("dice").src = "dice-six-faces-four.png";
      }
      else if(val==2){
          document.getElementById("dice").src = "dice-six-faces-two.png";
      }
      else if(val==3){
          document.getElementById("dice").src = "dice-six-faces-three.png";
      }
      else if(val==4){
          document.getElementById("dice").src = "dice-six-faces-four.png";
      }
      else if(val==5){
          document.getElementById("dice").src = "dice-six-faces-five.png";
      }
      else{
          document.getElementById("dice").src = "dice-six-faces-six.png";
      }
      CurrentFace = val;
      $('#audio').trigger('play');
      if(Turn == 1){
          if(CurrentFace<6){
              if(allInside(userFirstItem, 1)){
                 moveOneStep(userFirstPath,userFirstItem,'userFirstOrigin1');
                Turn = 2;
              }
              else{
                while(keepFlicker){
                  doFlickering(userFirstPath,userFirstItem);
                }
              }
          }
          else{
            if(allInside(userFirstItem, 1)){
                moveOneStep(userFirstPath,userFirstItem,'userFirstOrigin1');
                Turn = 2;
              }
              else{
                while(keepFlicker){
                  doFlickering(userFirstPath,userFirstItem);
                }
              }
          }
      }
      else if(Turn == 2){
        if(Ninput > 2){
          Turn = 3
          $('#turn').css('color', 'blue');
          $('#turn').text(User_3);
        }
        else{
          Turn = 1
          $('#turn').css('color', 'red');
          $('#turn').text(User_1);
        }
      }
      else if(Turn == 3){
        if(Ninput == 4 ){
          Turn = 4
          $('#turn').css('color', 'yellow');
          $('#turn').text(User_4);
        }
        else{
          Turn = 1
          $('#turn').css('color', 'red');
          $('#turn').text(User_1);
        }
      }
      else{
          Turn = 1
          $('#turn').css('color', 'red');
          $('#turn').text(User_1);
      }
  }
</script>

</body>
</html>
